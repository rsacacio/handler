define(["./core","./var/rnotwhite"],function(a,q){function r(e){var b=p[e]={};a.each(e.match(q)||[],function(e,a){b[a]=!0});return b}var p={};a.Callbacks=function(e){e="string"===typeof e?p[e]||r(e):a.extend({},e);var b,l,h,m,f,g,c=[],d=!e.once&&[],n=function(a){b=e.memory&&a;l=!0;g=m||0;m=0;f=c.length;for(h=!0;c&&g<f;g++)if(!1===c[g].apply(a[0],a[1])&&e.stopOnFalse){b=!1;break}h=!1;c&&(d?d.length&&n(d.shift()):b?c=[]:k.disable())},k={add:function(){if(c){var d=c.length;(function s(b){a.each(b,function(b,
d){var f=a.type(d);"function"===f?e.unique&&k.has(d)||c.push(d):d&&d.length&&"string"!==f&&s(d)})})(arguments);h?f=c.length:b&&(m=d,n(b))}return this},remove:function(){c&&a.each(arguments,function(d,e){for(var b;-1<(b=a.inArray(e,c,b));)c.splice(b,1),h&&(b<=f&&f--,b<=g&&g--)});return this},has:function(b){return b?-1<a.inArray(b,c):!(!c||!c.length)},empty:function(){c=[];f=0;return this},disable:function(){c=d=b=void 0;return this},disabled:function(){return!c},lock:function(){d=void 0;b||k.disable();
return this},locked:function(){return!d},fireWith:function(b,a){!c||l&&!d||(a=a||[],a=[b,a.slice?a.slice():a],h?d.push(a):n(a));return this},fire:function(){k.fireWith(this,arguments);return this},fired:function(){return!!l}};return k};return a});