define(["./core","./var/rnotwhite","./core/access","./data/var/data_priv","./data/var/data_user"],function(h,s,p,k,c){function n(b,d,a){if(void 0===a&&1===b.nodeType)if(a="data-"+d.replace(q,"-$1").toLowerCase(),a=b.getAttribute(a),"string"===typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:r.test(a)?h.parseJSON(a):a}catch(g){}c.set(b,d,a)}else a=void 0;return a}var r=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,q=/([A-Z])/g;h.extend({hasData:function(b){return c.hasData(b)||k.hasData(b)},
data:function(b,d,a){return c.access(b,d,a)},removeData:function(b,d){c.remove(b,d)},_data:function(b,c,a){return k.access(b,c,a)},_removeData:function(b,c){k.remove(b,c)}});h.fn.extend({data:function(b,d){var a,g,l,e=this[0],m=e&&e.attributes;if(void 0===b){if(this.length&&(l=c.get(e),1===e.nodeType&&!k.get(e,"hasDataAttrs"))){for(a=m.length;a--;)m[a]&&(g=m[a].name,0===g.indexOf("data-")&&(g=h.camelCase(g.slice(5)),n(e,g,l[g])));k.set(e,"hasDataAttrs",!0)}return l}return"object"===typeof b?this.each(function(){c.set(this,
b)}):p(this,function(a){var f,d=h.camelCase(b);if(e&&void 0===a){f=c.get(e,b);if(void 0!==f)return f;f=c.get(e,d);if(void 0!==f)return f;f=n(e,d,void 0);if(void 0!==f)return f}else this.each(function(){var e=c.get(this,d);c.set(this,d,a);-1!==b.indexOf("-")&&void 0!==e&&c.set(this,b,a)})},null,d,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){c.remove(this,b)})}});return h});