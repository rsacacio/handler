define(["../core","../core/init","../deferred"],function(a){function c(){document.removeEventListener("DOMContentLoaded",c,!1);window.removeEventListener("load",c,!1);a.ready()}var d;a.fn.ready=function(b){a.ready.promise().done(b);return this};a.extend({isReady:!1,readyWait:1,holdReady:function(b){b?a.readyWait++:a.ready(!0)},ready:function(b){(!0===b?--a.readyWait:a.isReady)||(a.isReady=!0,!0!==b&&0<--a.readyWait||(d.resolveWith(document,[a]),a.fn.triggerHandler&&(a(document).triggerHandler("ready"),
a(document).off("ready"))))}});a.ready.promise=function(b){d||(d=a.Deferred(),"complete"===document.readyState?setTimeout(a.ready):(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)));return d.promise(b)};a.ready.promise()});