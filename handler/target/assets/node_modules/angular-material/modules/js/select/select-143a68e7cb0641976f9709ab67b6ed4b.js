(function(L,e,M){function w(r,q,h,l,f,p,J){return{restrict:"E",require:["mdSelect","ngModel","?^form"],compile:function(f,n){var a=f.find("md-select-label").remove();if(!a.length)a=e.element("<md-select-label><span></span></md-select-label>");else if(!a[0].firstElementChild){var c=e.element("<span>");c.append(a.contents());a.append(c)}a.append('<span class="md-select-icon" aria-hidden="true"></span>');a.addClass("md-select-label");a[0].hasAttribute("id")||a.attr("id","select_label_"+q.nextUid());
f.find("md-content").length||f.append(e.element("<md-content>").append(f.contents()));n.mdOnOpen&&f.find("md-content").prepend(e.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent());if(n.name){var d=e.element('<select class="md-visually-hidden">');d.attr({name:"."+n.name,"ng-model":n.ngModel,"aria-hidden":"true",tabindex:"-1"});c=f.find("md-option");e.forEach(c,function(a){var b=e.element("<option>"+a.innerHTML+"</option>");
a.hasAttribute("ng-value")?b.attr("ng-value",a.getAttribute("ng-value")):a.hasAttribute("value")&&b.attr("value",a.getAttribute("value"));d.append(b)});f.parent().append(d)}var b='<div class="md-select-menu-container"><md-select-menu '+(e.isDefined(n.multiple)?"multiple":"")+">"+f.html()+"</md-select-menu></div>";f.empty().append(a);n.tabindex=n.tabindex||"0";return function(a,k,g,c){function A(){s&&(v=v||s.find("md-select-menu").controller("mdSelectMenu"),t.setLabelText(v.selectedLabels()))}function f(a){-1!=
[32,13,38,40].indexOf(a.keyCode)?(a.preventDefault(),d(a)):90>=a.keyCode&&31<=a.keyCode&&(a.preventDefault(),a=v.optNodeForKeyboardSearch(a))&&(a=e.element(a).controller("mdOption"),v.isMultiple||v.deselect(Object.keys(v.selected)[0]),v.select(a.hashKey,a.value),v.refreshViewValue(),m.$render())}function d(){a.$evalAsync(function(){n=!0;r.show({scope:x,preserveScope:!0,skipCompile:!0,element:s,target:k[0],hasBackdrop:!0,loadingAsync:g.mdOnOpen?a.$eval(g.mdOnOpen)||!0:!1}).then(function(a){n=!1})})}
var n,C,t=c[0],m=c[1];c=c[2];var y=k.find("md-select-label"),u=0!==y.text().length,s,x,v;(function(){s=e.element(b);var k=s.find("md-select-menu");k.data("$ngModelController",m);k.data("$mdSelectController",t);x=a.$new();s=p(s)(x);v=s.find("md-select-menu").controller("mdSelectMenu")})();h(k);if(g.name&&c){var w=k.parent()[0].querySelector('select[name=".'+g.name+'"]');c.$removeControl(e.element(w).controller())}var D=m.$render;m.$render=function(){D();A()};t.setLabelText=function(a){u||(t.setIsPlaceholder(!a),
a=a||g.placeholder||"",(u?y:y.children().eq(0)).text(a))};t.setIsPlaceholder=function(a){a?y.addClass("md-placeholder"):y.removeClass("md-placeholder")};a.$$postDigest(function(){var a=k.attr("placeholder");a||(a=k.find("md-select-label").text());l.expect(k,"aria-label",a);A()});var E;g.$observe("ngMultiple",function(b){E&&E();var g=J(b);E=a.$watch(function(){return g(a)},function(a,b){if(void 0!==a||void 0!==b)a?k.attr("multiple","multiple"):k.removeAttr("multiple"),s&&(v.setMultiple(a),D=m.$render,
m.$render=function(){D();A()},v.refreshViewValue(),m.$render())})});g.$observe("disabled",function(a){"string"==typeof a&&(a=!0);if(void 0===C||C!==a)(C=a)?(k.attr({tabindex:-1,"aria-disabled":"true"}),k.off("click",d),k.off("keydown",f)):(k.attr({tabindex:g.tabindex,"aria-disabled":"false"}),k.on("click",d),k.on("keydown",f))});g.disabled||g.ngDisabled||(k.attr({tabindex:g.tabindex,"aria-disabled":"false"}),k.on("click",d),k.on("keydown",f));c={role:"combobox","aria-expanded":"false"};k[0].hasAttribute("id")||
(c.id="select_"+q.nextUid());k.attr(c);a.$on("$destroy",function(){n?r.cancel().then(function(){s.remove()}):s.remove()})}},controller:function(){}}}function F(r,q,h){function l(f,p,h){function l(){var b=a.ngModel.$modelValue||a.ngModel.$viewValue;if(e.isArray(b)){var g=Object.keys(a.selected),c=b.map(a.hashGetter);g.filter(function(a){return-1===c.indexOf(a)}).forEach(a.deselect);c.forEach(function(c,g){a.select(c,b[g])})}}function n(){var b=a.ngModel.$viewValue||a.ngModel.$modelValue;Object.keys(a.selected).forEach(a.deselect);
a.select(a.hashGetter(b),b)}var a=this;a.isMultiple=e.isDefined(p.multiple);a.selected={};a.options={};f.$watch(function(){return a.options},function(){a.ngModel.$render()},!0);a.setMultiple=function(b){function c(a,b){return e.isArray(a||b||[])}var d=a.ngModel;a.isMultiple=b;a.isMultiple?(d.$validators["md-multiple"]=c,d.$render=l,f.$watchCollection(p.ngModel,function(a){c(a)&&l(a)})):(delete d.$validators["md-multiple"],d.$render=n)};var c="",d,b,z;a.optNodeForKeyboardSearch=function(a){d&&clearTimeout(d);
d=setTimeout(function(){d=void 0;c="";b=z=void 0},300);c+=String.fromCharCode(a.keyCode);a=new RegExp("^"+c,"i");b||(b=h.find("md-option"),z=Array(b.length),e.forEach(b,function(a,b){z[b]=a.textContent.trim()}));for(var g=0;g<z.length;++g)if(a.test(z[g]))return b[g]};a.init=function(b){a.ngModel=b;if(b.$options&&b.$options.trackBy){var c={},d=r(b.$options.trackBy);a.hashGetter=function(a,b){c.$value=a;return d(b||f,c)}}else a.hashGetter=function(a){return e.isObject(a)?"object_"+(a.$$mdSelectId||
(a.$$mdSelectId=++K)):a};a.setMultiple(a.isMultiple)};a.selectedLabels=function(){var a=G(h[0].querySelectorAll("md-option[selected]"));return a.length?a.map(function(a){return a.textContent}).join(", "):""};a.select=function(b,c){var d=a.options[b];d&&d.setSelected(!0);a.selected[b]=c};a.deselect=function(b){var c=a.options[b];c&&c.setSelected(!1);delete a.selected[b]};a.addOption=function(b,c){if(e.isDefined(a.options[b]))throw Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+
c.value+'" found.');a.options[b]=c;e.isDefined(a.selected[b])&&(a.select(b,c.value),a.refreshViewValue())};a.removeOption=function(b){delete a.options[b]};a.refreshViewValue=function(){var b=[],c,d;for(d in a.selected)(c=a.options[d])?b.push(c.value):b.push(a.selected[d]);a.ngModel.$setViewValue(a.isMultiple?b:b[0])}}l.$inject=["$scope","$attrs","$element"];return{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:l,link:{pre:function(f,p,l,r){function n(c){var d=(c=q.getClosest(c.target,
"md-option"))&&e.element(c).data("$mdOptionController");if(c&&d){var b=a.hashGetter(d.value),p=e.isDefined(a.selected[b]);f.$apply(function(){a.isMultiple?p?a.deselect(b):a.select(b,d.value):p||(a.deselect(Object.keys(a.selected)[0]),a.select(b,d.value));a.refreshViewValue()})}}var a=r[0];l=r[1];h(p);p.on("click",n);p.on("keypress",function(a){13!=a.keyCode&&32!=a.keyCode||n(a)});l&&a.init(l);p.attr({id:"select_menu_"+q.nextUid(),role:"listbox","aria-multiselectable":a.isMultiple?"true":"false"})}}}}
function H(r,q){function h(f,p,l,h){function n(d,b){var e=c.hashGetter(b,f),k=c.hashGetter(d,f);a.hashKey=k;a.value=d;c.removeOption(e,a);c.addOption(k,a)}var a=h[0],c=h[1];e.isDefined(l.ngValue)?f.$watch(l.ngValue,n):e.isDefined(l.value)?n(l.value):f.$watch(function(){return p.text()},n);f.$$postDigest(function(){l.$observe("selected",function(d){e.isDefined(d)&&(d?(c.isMultiple||c.deselect(Object.keys(c.selected)[0]),c.select(a.hashKey,a.value)):c.deselect(a.hashKey),c.refreshViewValue(),c.ngModel.$render())})});
r.attach(f,p);(function(){var a={role:"option","aria-selected":"false"};p[0].hasAttribute("id")||(a.id="select_option_"+q.nextUid());p.attr(a)})();f.$on("$destroy",function(){c.removeOption(a.hashKey,a)})}function l(f){this.selected=!1;this.setSelected=function(e){e&&!this.selected?f.attr({selected:"selected","aria-selected":"true"}):!e&&this.selected&&(f.removeAttr("selected"),f.attr("aria-selected","false"));this.selected=e}}l.$inject=["$element"];return{restrict:"E",require:["mdOption","^^mdSelectMenu"],
controller:l,compile:function(f,l){f.append(e.element('<div class="md-text">').append(f.contents()));f.attr("tabindex",l.tabindex||"0");return h}}}function I(r){function q(h,l,f,p,r,q,n){function a(a,d,b){a=d[0];var e=b.target[0].firstElementChild.firstElementChild,k=b.selectEl[0],g=b.contentEl[0],h=b.parent[0].getBoundingClientRect(),e=e.getBoundingClientRect(),A=h.left+8,r=h.height-8,q=h.width-8-(p.floatingScrollbars()?16:0),w=e.top-8,B=r-(e.top+e.height),h=h.width-16,t=g.scrollHeight>g.offsetHeight,
m=k.querySelector("md-option[selected]"),y=k.getElementsByTagName("md-option"),u=k.getElementsByTagName("md-optgroup"),u=m?m:u.length?u[0]:y.length?y[0]:g.firstElementChild||g;g.offsetWidth>h&&(g.style["max-width"]=h+"px");t&&k.classList.add("md-overflow");h=k.getBoundingClientRect();m=u?{left:u.offsetLeft,top:u.offsetTop,width:u.offsetWidth,height:u.offsetHeight}:{left:0,top:0,width:0,height:0};if(u){var s=n.getComputedStyle(u);m.paddingLeft=parseInt(s.paddingLeft,10)||0;m.paddingRight=parseInt(s.paddingRight,
10)||0}var x=u;"MD-OPTGROUP"===(x.tagName||"").toUpperCase()&&(x=y[0]||g.firstElementChild||g);t&&(t=g.offsetHeight/2,g.scrollTop=m.top+m.height/2-t,w<t?g.scrollTop=Math.min(m.top,g.scrollTop+t-w):B<t&&(g.scrollTop=Math.max(m.top+m.height-h.height,g.scrollTop-t+B)));w=e.left+m.left-m.paddingLeft;B=Math.floor(e.top+e.height/2-m.height/2-m.top+g.scrollTop);g=m.left+e.width/2+"px "+(m.top+m.height/2-g.scrollTop)+"px 0px";a.style.minWidth=e.width+m.paddingLeft+m.paddingRight+"px";m=a.getBoundingClientRect();
a.style.left=Math.max(A,Math.min(w,q-m.width))+"px";a.style.top=Math.max(8,Math.min(B,r-m.height))+"px";k.style[l.CSS.TRANSFORM_ORIGIN]=g;k.style[l.CSS.TRANSFORM]="scale("+Math.min(e.width/h.width,1)+","+Math.min(e.height/h.height,1)+")";f(function(){d.addClass("md-active");k.style[l.CSS.TRANSFORM]="";x&&(b.focusedNode=x,x.focus())})}return{parent:"body",onShow:function(c,d,b){if(!b.target)throw Error('$mdSelect.show() expected a target element in options.target but got "'+b.target+'"!');e.extend(b,
{isRemoved:!1,target:e.element(b.target),parent:e.element(b.parent),selectEl:d.find("md-select-menu"),contentEl:d.find("md-content"),backdrop:b.hasBackdrop&&e.element('<md-backdrop class="md-select-backdrop md-click-catcher">')});b.resizeFn=function(){f(function(){f(function(){a(c,d,b)})})};e.element(n).on("resize",b.resizeFn);e.element(n).on("orientationchange",b.resizeFn);b.target.attr("aria-expanded","true");d.removeClass("md-leave");var w=b.selectEl[0].getElementsByTagName("md-option");b.loadingAsync&&
b.loadingAsync.then?b.loadingAsync.then(function(){c.$$loadingAsyncDone=!0;f(function(){f(function(){b.isRemoved||a(c,d,b)})})}):b.loadingAsync&&(c.$$loadingAsyncDone=!0);b.disableParentScroll&&!p.getClosest(b.target,"MD-DIALOG")?b.restoreScroll=p.disableScrollAround(b.target):b.disableParentScroll=!1;q(function(){function a(c){var e=G(w),d=e.indexOf(b.focusedNode);-1===d?d=0:"next"===c&&d<e.length-1?d++:"prev"===c&&0<d&&d--;(c=b.focusedNode=e[d])&&c.focus()}function e(){f.isMultiple||(b.restoreFocus=
!0,c.$evalAsync(function(){h.hide(f.ngModel.$viewValue)}))}if(!b.isRemoved){var f=b.selectEl.controller("mdSelectMenu")||{};d.addClass("md-clickable");b.backdrop&&b.backdrop.on("click",function(a){a.preventDefault();a.stopPropagation();b.restoreFocus=!1;c.$apply(h.cancel)});b.selectEl.on("keydown",function(a){switch(a.keyCode){case l.KEY_CODE.SPACE:case l.KEY_CODE.ENTER:var d=p.getClosest(a.target,"md-option");d&&(b.selectEl.triggerHandler({type:"click",target:d}),a.preventDefault());break;case l.KEY_CODE.TAB:case l.KEY_CODE.ESCAPE:a.preventDefault(),
b.restoreFocus=!0,c.$apply(h.cancel)}});b.selectEl.on("keydown",function(c){switch(c.keyCode){case l.KEY_CODE.UP_ARROW:a("prev");break;case l.KEY_CODE.DOWN_ARROW:a("next");break;default:31<=c.keyCode&&90>=c.keyCode&&(c=b.selectEl.controller("mdSelectMenu").optNodeForKeyboardSearch(c))&&c.focus()}});b.selectEl.on("click",e);b.selectEl.on("keydown",function(a){32!=a.keyCode&&13!=a.keyCode||e()})}},75,!1);b.backdrop&&(r.inherit(b.backdrop,b.parent),b.parent.append(b.backdrop));b.parent.append(d);f(function(){f(function(){b.isRemoved||
a(c,d,b)})});return p.transitionEndPromise(b.selectEl,{timeout:350})},onRemove:function(a,d,b){b.isRemoved=!0;d.addClass("md-leave").removeClass("md-clickable");b.target.attr("aria-expanded","false");e.element(n).off("resize",b.resizeFn);e.element(n).off("orientationchange",b.resizefn);b.resizeFn=void 0;(a=b.selectEl.controller("mdSelect"))&&a.setLabelText(b.selectEl.controller("mdSelectMenu").selectedLabels());return p.transitionEndPromise(d,{timeout:350}).then(function(){d.removeClass("md-active");
b.backdrop&&b.backdrop.remove();d[0].parentNode===b.parent[0]&&b.parent[0].removeChild(d[0]);b.disableParentScroll&&b.restoreScroll();b.restoreFocus&&b.target.focus()})},hasBackdrop:!0,disableParentScroll:!0,themable:!0}}q.$inject="$mdSelect $mdConstant $$rAF $mdUtil $mdTheming $timeout $window".split(" ");return r("$mdSelect").setDefaults({methods:["target"],options:q})}function G(e){for(var q=[],h=0;h<e.length;++h)q.push(e.item(h));return q}var K=0;e.module("material.components.select",["material.core",
"material.components.backdrop"]).directive("mdSelect",w).directive("mdSelectMenu",F).directive("mdOption",H).directive("mdOptgroup",function(){return{restrict:"E",compile:function(r,q){var h=r.find("label");h.length||(h=e.element("<label>"),r.prepend(h));q.label&&h.text(q.label)}}}).provider("$mdSelect",I);w.$inject="$mdSelect $mdUtil $mdTheming $mdAria $interpolate $compile $parse".split(" ");F.$inject=["$parse","$mdUtil","$mdTheming"];H.$inject=["$mdButtonInkRipple","$mdUtil"];I.$inject=["$$interimElementProvider"]})(window,
window.angular);