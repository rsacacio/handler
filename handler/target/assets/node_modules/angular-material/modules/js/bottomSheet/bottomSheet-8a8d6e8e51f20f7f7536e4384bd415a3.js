(function(s,g,t){function b(b){function h(b,e,h,k,n,m,l,p,q){function r(c,d){function a(a){c.css(e.CSS.TRANSITION_DURATION,"0ms")}function b(a){a=a.pointer.distanceY;5>a&&(a=Math.max(-80,a/2));c.css(e.CSS.TRANSFORM,"translate3d(0,"+(80+a)+"px,0)")}function f(a){if(0<a.pointer.distanceY&&(20<a.pointer.distanceY||.5<Math.abs(a.pointer.velocityY))){var b=c.prop("offsetHeight")-a.pointer.distanceY;a=Math.min(b/a.pointer.velocityY*.75,500);c.css(e.CSS.TRANSITION_DURATION,a+"ms");k(l.cancel)}else c.css(e.CSS.TRANSITION_DURATION,
""),c.css(e.CSS.TRANSFORM,"")}var g=q.register(d,"drag",{horizontal:!1});d.on("$md.dragstart",a).on("$md.drag",b).on("$md.dragend",f);return{element:c,cleanup:function(){g();d.off("$md.dragstart",a).off("$md.drag",b).off("$md.dragend",f)}}}var f;return{themable:!0,targetEvent:null,onShow:function(c,d,a){d=h.extractElementByName(d,"md-bottom-sheet");f=n('<md-backdrop class="md-opaque md-bottom-sheet-backdrop">')(c);f.on("click",function(){k(l.cancel)});m.inherit(f,a.parent);b.enter(f,a.parent,null);
c=new r(d,a.parent);a.bottomSheet=c;a.targetEvent&&g.element(a.targetEvent.target).blur();m.inherit(c.element,a.parent);a.disableParentScroll&&(a.lastOverflow=a.parent.css("overflow"),a.parent.css("overflow","hidden"));return b.enter(c.element,a.parent).then(function(){g.element(d[0].querySelector("button")||d[0].querySelector("a")||d[0].querySelector("[ng-click]")).focus();a.escapeToClose&&(a.rootElementKeyupCallback=function(a){a.keyCode===e.KEY_CODE.ESCAPE&&k(l.cancel)},p.on("keyup",a.rootElementKeyupCallback))})},
onRemove:function(c,d,a){var e=a.bottomSheet;b.leave(f);return b.leave(e.element).then(function(){a.disableParentScroll&&(a.parent.css("overflow",a.lastOverflow),delete a.lastOverflow);e.cleanup();a.targetEvent&&g.element(a.targetEvent.target).focus()})},escapeToClose:!0,disableParentScroll:!0}}h.$inject="$animate $mdConstant $mdUtil $timeout $compile $mdTheming $mdBottomSheet $rootElement $mdGesture".split(" ");return b("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose",
"targetEvent"],options:h})}g.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",function(){return{restrict:"E"}}).provider("$mdBottomSheet",b);b.$inject=["$$interimElementProvider"]})(window,window.angular);