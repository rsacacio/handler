angular.module("angularSpinners",[]).factory("spinnerService",function(){var a={};return{_register:function(b){if(!b.hasOwnProperty("name"))throw Error("Spinner must specify a name when registering with the spinner service.");if(a.hasOwnProperty(b.name))throw Error("A spinner with the name '"+b.name+"' has already been registered.");a[b.name]=b},_unregister:function(b){a.hasOwnProperty(b)&&delete a[b]},_unregisterGroup:function(b){for(var c in a)a[c].group===b&&delete a[c]},_unregisterAll:function(){for(var b in a)delete a[b]},
show:function(b){var c=a[b];if(!c)throw Error("No spinner named '"+b+"' is registered.");c.show()},hide:function(b){var c=a[b];if(!c)throw Error("No spinner named '"+b+"' is registered.");c.hide()},showGroup:function(b){var c=!1,d;for(d in a){var e=a[d];e.group===b&&(e.show(),c=!0)}if(!c)throw Error("No spinners found with group '"+b+"'.");},hideGroup:function(b){var c=!1,d;for(d in a){var e=a[d];e.group===b&&(e.hide(),c=!0)}if(!c)throw Error("No spinners found with group '"+b+"'.");},showAll:function(){for(var b in a)a[b].show()},
hideAll:function(){for(var b in a)a[b].hide()}}});
angular.module("angularSpinners").directive("spinner",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{name:"@?",group:"@?",show:"=?",imgSrc:"@?",register:"@?",onLoaded:"&?",onShow:"&?",onHide:"&?"},template:'<span ng-show="show">  <img ng-show="imgSrc" ng-src="{{imgSrc}}" />  <span ng-transclude></span></span>',controller:["$scope","spinnerService",function(a,b){a.hasOwnProperty("register")||(a.register=!0);var c={name:a.name,group:a.group,show:function(){a.show=!0},hide:function(){a.show=
!1},toggle:function(){a.show=!a.show}};!0===a.register&&b._register(c);(a.onShow||a.onHide)&&a.$watch("show",function(d){if(d&&a.onShow)a.onShow({spinnerService:b,spinnerApi:c});else if(!d&&a.onHide)a.onHide({spinnerService:b,spinnerApi:c})});if(a.onLoaded)a.onLoaded({spinnerService:b,spinnerApi:c})}]}});